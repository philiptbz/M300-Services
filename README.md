# M300-Services
M300-Services von Philip Kampfer

In der folgenden Dokumentation werde ich den Leistungsnachweis zu meiner Arbeit erbringen. 

# Inhaltsverzeichnis
- [1. Kriterium](#1-kriterium)
- [2. Kriterium](#2-kriterium)
- [3. Kriterium](#3-kriterium)
- [4. Kriterium](#4-kriterium)
- [5. Kriterium](#5-kriterium)


## 1. Kriterium 
Umbebung auf eigenem Notebook eingerichtet und funktionsfähig
- [x] [1. VirtualBox](#1-virtualbox)
- [x] [2. Vagrant](#2-vagrant)
- [x] [3. Visualstudio-Code](#3-visualstudio-code)
- [x] [4. Git-Client](#4-git-client)
- [x] [5. SSH-Key für Client erstellen](#5-ssh-key-für-client-erstellen)

### 1. Virtualbox
Aufgrund unseres Auftrages wählte ich für die Umsetzung die kostenlose Virtualisierungssoftware VirtualBox. Ich habe diese Software bereits öfters benutzt und habe diese auch schon auf meinem Notebook installiert. 

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild1.png "Virtualbox")

### 2. Vagrant
Auf dem folgenden Bild ist die installierte Vagrant Version zu sehen

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild2.png "Vagrant")

### 3. Visualstudio-Code

Auch Visual Studio Code, wendete ich bereits einige Male im Betrieb sowie Zuhause an. Die Installation musste ich also auch hier nicht mehr vornehmen. 

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild3.png "VSC")

Ebenfalls fügte ich 3 weitere Erweiterungen hinzu: 
- Vagranfile Support
Diese Erweiterung bietet Syntax-Highliting für das Vagrantfile

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild4.png "Vagrantsupport")

- Markdown All in One
Diese Erweiterung bietet viele Features, die beim Dokumentieren mit Markdown nützlich sind. 

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild5.png "Markdownsupport")

- Vscode-pdf

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild6.png "vscode")

### 4. Git-Client
Auf dem folgenden Bild sehen sie die installierte Version des Git-Clients

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild7.png "Git-Client")

### 5. SSH-Key für Client erstellen
In den beiden Screenshots unterhalb ist der Nachweiss, dass der SSH-Key erstellt wurde. Im ersten Screenshot ist der verknüpfte SSH-Key an meinem GitHub-Account zu sehen. Auf dem zweiten Bild führe ich den ssh-keygen Befehl in der Git-Bash aus.

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild8.png "SSH-Key1")

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild9.png "SSH-Key2")


## 2. Kriterium
Eigene Lernumgebung (PLE) ist eingerichtet
- [x] [1. GitHub oder Gitlab-Account ist erstellt](#1-github-oder-gitlab-account-ist-erstellt)
- [x] [2. Git-Client wurde verwendet](#2-git-client-wurde-verwendet)
- [x] [3. Dokumentation ist als Mark Down vorhanden](#3-dokumentation-ist-als-mark-down-vorhanden)
- [x] [4. Mark down-Editor ausgewählt und eingerichtet](#4-mark-down-editor-ausgewählt-und-eingerichtet)
- [x] [5. Persönlicher Wissenstand](#5-persönlicher-wissenstand)
- [x] [6. Wichtige Lernschritte sind dokumentiert](#6-wichtige-lernschritte-sind-dokumentiert)

### 1. GitHub oder Gitlab-Account ist erstellt
Ich erstellte ein GitHub Account: https://github.com/philiptbz

### 2. Git-Client wurde verwendet
Anhand des Screenshots wird bewiesen, dass der Git-Client verwendet wurde.

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild10.png "Git-Client")

### 3. Dokumentation ist als Mark Down vorhanden
Ich habe die Dokumentation in der README.md Datei erfasst. Dass diese in Mark Down geschrieben wurde sollte ersichtlich sein.

### 4. Mark down-Editor ausgewählt und eingerichtet
Ich habe in diesem Fall Visual Studio Code als Mark Down Editor benutzt. Ich habe die README.md Datei jeweils in Visual Studio Code bearbeitet, gespeichert, commited und gepusht. 

### 5. Persönlicher Wissenstand

### Linux
Aufgrund der vorgängigen Module und ÜK’s kenne ich mich mit Linux gut aus. Ich habe bereits diverse Dienste und Applikationen auf der Linux Umgebung aufgesetzt und installiert. Auch mit den meisten Command bin ich vertraut und weiss auch wie und wo nachschauen, falls ich einen Command nicht kenne. 

### Virtualisierung
Mit der Virtualisierung hatte ich mich aufgrund des letzten ÜKs stark mit auseinandergesetzt. Jedoch habe ich bis jetzt erst Erfahrung mit dem Client sowie Server Virtualisierung machen können. Ich habe eine Zusammenfassung über mehrere Themen der Virtualisierung gemacht diese kann hier eingesehen werden.

### Vagrant
Von Vagrant habe ich, dass erste Mal in Form dieses Modules gehört. Ich bin zuvor noch nie mit einer solchen Virtualisierung / Automatisierung in Kontakt gekommen. Im Verlauf der LB2 bin ich jedoch immer besser mit der Anwendung zurechtgekommen. Ebenfalls informierte ich mich aus Neugier noch wie das Konzept hinter Vagrant funktioniert und konnte so einige wichtige Lernschritte sammeln. Ich bin überzeugt von Vagrant und sehe darin einen grossen Vorteil sowie ein riesiges Entwicklungspotenzial. 

### Verionsverwaltung/Git
Git wurde von Linus Torvalds entwickelt und ist ein Versionorientiertes Programm. Es ermöglicht mehreren Benutzern gleichzeitig, eine Datei zu bearbeiten, ohne dass man sich Probleme macht, indem man Elemente der Datei überschreibt.

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild11.jpg "Git")

Dadurch ergeben sich am Repo für Bearbeiter folgende Möglichkeiten:
•	Die eigene Arbeit kann einfach wieder in die zentrale Basis integriert werden.
•	Es kann zeitgleich weiterentwickelt werden, z.B. jeder an verschiedenen Features.
•	Die Versionierung verhindert, dass bereits getätigte Arbeiten verloren gehen bzw. überschrieben werden.
•	Bei Bedarf kann zu früheren Versionen zurückgekehrt werden oder simultan an verschiedenen Versionen gearbeitet werden (auch "Branches" genannt).
Git bietet aber noch viel mehr, welche Eigenschaften es anderen Systemen überlegen macht kann

### Mark Down
Markdown ist eine vereinfachte aufzeichnungssprache. Das Ziel ist es ein Format zu erstellen, dass man es ohne konvertierung lesen kann. 2004 wurde es entworfen. Diese Dokumentation wurde mit Markdown geschrieben. Man kann Markdown auf jedem Texteditor nutzen. Ich habe in diesem Projekt, dass erste mal mit Morkdown gearbeitet und finde es eine tolle Alternative zu den herkömmlichen Textformaten. 

### Systemsicherheit
**Was ist ein System?**
Jedes System hat eine Systemgrenze. Als erstes definieren, was ist meine Systemgrenze (Ganz genau definieren). Über die Systemgrenze hat es Schnittstellen gegen aussen ins Netz. Im System gibt es Elemente. Unter diesen Elementen bestehen Beziehungen. Man definiert eine Systemgrenze anhand eines Visios und einer Beschreibung. Doku der Schnittstelle:  10 Gbit/s, interface, Ethernet, 5 VLAN.

**Systemsicherheit besteht aus:**
-	Server, Clients -> sicher betreiben
-	Firewalls regeln den Sicheren Verkehr = Netz Sicherheit
-	Kommunikation End to End sichern = Kommunikationssicherheit
-	Verschlüsselung, Authentifizierung, Applikationssicherheit

Auch in meiner Umgebung spielt die Systemsicherheit eine wichtige Rolle. Ich werde zwei Begriffe die ebenfalls in meiner Arbeit vorkommen werden erklären. 

### Proxy:
Ein Proxy-Server ist ein Computer oder ein Softwaresystem, das als Vermittler zwischen einer Endpunktvorrichtung fungiert. Diese Verbindung kann beispielsweise zwischen einem Computer und einem Webserver sein, von dem ein Benutzer einen Dienst anfordert. Der Proxy-Server kann sich auf derselben Maschine wie ein Firewall-Server befinden oder auf einem separaten Server, der Anfragen über die Firewall weiterleitet.

**Wofür wird Proxy eingesetzt?**
Proxy-Server werden sowohl für legale als auch für illegale Zwecke eingesetzt. Im Unternehmen wird ein Proxy-Server verwendet, um unter anderem Sicherheit, administrative Kontrolle oder Caching-Dienste zu ermöglichen. Proxys werden aber auch für Personal Computing eingesetzt, um die Privatsphäre der Benutzer und anonymes Surfen zu ermöglichen. Proxy-Server können auch für den umgekehrten Zweck eingesetzt werden: Zur Überwachung des Datenverkehrs und zur Untergrabung der Privatsphäre der Benutzer.

**Wie funktioniert ein Proxy-Server?**
Wenn ein Proxy-Server eine Anforderung für eine Internetressource (z. B. eine Webseite) erhält, sucht er in seinem lokalen Cache nach früheren Seiten. Wenn er die Seite findet, gibt er sie an den Benutzer zurück, ohne die Anfrage an das Internet weiterleiten zu müssen. Wenn sich die Seite nicht im Cache befindet, verwendet der Proxy-Server, der als Client im Namen des Benutzers fungiert, eine seiner eigenen IP-Adressen, um die Seite vom Server im Internet abzurufen. Wenn die Seite zurückgegeben wird, bezieht der Proxy-Server sie auf die ursprüngliche Anforderung und leitet sie an den Client weiter.

**Forward and reverse proxy servers:**
Forward-Proxys senden die Anfragen eines Clients weiter an einen Webserver. Benutzer greifen auf Proxys zu, indem sie direkt auf eine Web-Proxy-Adresse surfen oder ihre Interneteinstellungen konfigurieren. Weiterleitende Vollmachten ermöglichen die Umgehung von Firewalls und erhöhen die Privatsphäre und Sicherheit für einen Benutzer.
Ein Reverse-Proxy-Server ist eine Art Proxy-Server, der typischerweise hinter der Firewall in einem privaten Netzwerk sitzt und Client-Anfragen an den entsprechenden Backend-Server weiterleitet. Ein Reverse-Proxy bietet eine zusätzliche Abstraktions- und Steuerungsebene, um den reibungslosen Ablauf des Netzwerkverkehrs zwischen Clients und Servern zu gewährleisten.

**Reverse-Proxies werden verwendet:**
Um den indirekten Zugriff zu ermöglichen, wenn eine Website direkte Verbindungen als Sicherheitsmaßnahme verbietet.
Um einen Lastenausgleich zwischen den Servern zu ermöglichen.
Um interne Inhalte an Internetnutzer zu streamen.
Um den Zugriff auf eine Website zu deaktivieren, z.B. wenn ein ISP oder eine Regierung eine Website blockieren möchte.
Websites können aus mehr oder weniger legitimen Gründen blockiert werden. Reverse Proxies können verwendet werden, um den Zugang zu illegalen oder urheberrechtlich geschützten Inhalten zu verhindern. Manchmal sind diese Gründe gerechtfertigt, aber manchmal ist die Rechtfertigung zweifelhaft. Sie können auch verhindern, dass Benutzer auf Websites zugreifen, auf denen sie Informationen über Regierungs- oder Branchenmaßnahmen preisgeben können. Die Sperrung des Zugangs zu solchen Websites kann das Recht auf freie Meinungsäußerung verletzen.

### Firewall
Eine Firewall ist ein Netzwerksicherheitssystem, das den ein- und ausgehenden Netzwerkverkehr basierend auf vorgegebenen Sicherheitsregeln überwacht und kontrolliert. Eine Firewall errichtet typischerweise eine Barriere zwischen einem vertrauenswürdigen internen Netzwerk und einem nicht vertrauenswürdigen externen Netzwerk, wie beispielsweise dem Internet.
Firewalls werden oft entweder als Netzwerk-Firewalls oder als hostbasierte Firewalls kategorisiert. Netzwerk-Firewalls filtern den Datenverkehr zwischen zwei oder mehr Netzwerken und laufen auf Netzwerkhardware. Host-basierte Firewalls laufen auf Host-Computern und steuern den Netzwerkverkehr innerhalb und außerhalb dieser Computer.
Firewalls können entweder Software oder Hardware sein, obwohl es am besten ist, beides zu haben. Eine Software-Firewall ist ein auf jedem Computer installiertes Programm, das den Datenverkehr über Portnummern und Anwendungen regelt, während eine physische Firewall ein Gerät ist, das zwischen Ihrem Netzwerk und dem Gateway installiert wird.
 
**Die verschiedenen Arten von Firewalls**
Als Grundfunktion nutzt die Firewall sogenannte Paketfilter. Dieser Paketfilter arbeitet nach statischen Regeln und überprüft jedes Datenpaket einzeln, kann aber keine Verbindungen zu vorherigen Paketen herstellen.
Eine erweiterte Form der Paketfilterung ist die sogenannte Stateful Inspection. Bei dieser Paketfilterung werden einzelne Beziehungen zu den überwachten Datenpaketen erkannt und überprüft.

**Paketfilternde Firewalls**
Paketfilternde Firewalls, ist die gebräuchlichste Art von Firewall, diese untersuchen Pakete und verhindern deren Durchgang, wenn sie nicht mit einem festgelegten Sicherheitsregelwerk übereinstimmen. Diese Art von Firewall überprüft die Quell- und Ziel-IP-Adressen des Pakets. Wenn Pakete mit denen einer "erlaubten" Regel auf der Firewall übereinstimmen, dann wird ihr vertraut, dass sie in das Netzwerk eintritt.
Paketfilternde Firewalls werden in zwei Kategorien unterteilt: stateful und stateless. Stateless Firewalls untersuchen Pakete unabhängig voneinander und ohne Kontext, was sie zu einem einfachen Ziel für Hacker macht. Im Gegensatz dazu speichern statful Firewalls Informationen über zuvor übergebene Pakete und gelten als viel sicherer.
Bei der Paketfilterung werden die Datenpakete anhand einer Netzwerkadresse identifiziert und wird ihren Zielen entweder zugeführt oder geblockt. Um diese Richtlinien umzusetzen werden bei den einzelnen Datenpaketen die Header-Informationen ausgewertet und nach diesen Informationen regelbasiert behandelt. Die Paketfilterung arbeitet somit in den Schichten Transport-Layer (Schicht 4, Port), Network-Layer (Schicht 3, IP-Adresse) sowie bei manchen Stateful-Firewalls noch die Schicht Application-Layer (Schicht 7, hier die Nutzerdaten) des OSI-Modells.
Während paketfilternde Firewalls effektiv sein können, bieten sie letztendlich einen sehr einfachen Schutz und können sehr begrenzt sein - zum Beispiel können sie nicht feststellen, ob der Inhalt der gesendeten Anfrage die zu erreichende Anwendung negativ beeinflusst. Wenn eine böswillige Anfrage, die von einer vertrauenswürdigen Quelladresse aus erlaubt wurde, beispielsweise zum Löschen einer Datenbank führen würde, hätte die Firewall keine Möglichkeit, dies zu erfahren. Firewalls der nächsten Generation und Proxy-Firewalls sind besser gerüstet, um solche Bedrohungen zu erkennen.
 
**Next-Generation Firewalls (NGFW)**
Sie kombinieren traditionelle Firewall-Technologie mit zusätzlichen Funktionen wie verschlüsselte Traffic-Inspektion, Intrusion Prevention-Systeme, Virenschutz und mehr. Insbesondere beinhaltet es die Deep Packet Inspection (DPI). Während grundlegende Firewalls nur Paketheader betrachten, untersucht die Deep Packet Inspection die Daten innerhalb des Pakets selbst und ermöglicht es Benutzern, Pakete mit bösartigen Daten effektiver zu identifizieren, zu kategorisieren oder zu stoppen.
 
**Proxy-Firewalls**
Hierbei handelt es sich um Computer, die zwischen das lokale Netzwerk und das Internet geschaltet werden. Ein Proxy nimmt die Anforderung eines Computers aus dem lokalen Netzwerk entgegen und führt diese Anforderung stellvertretend im Internet aus. Die zurückerhaltenen Daten schickt der Proxy dann an den Computer im lokalen Netzwerk weiter. Proxy-Firewalls filtern den Netzwerkverkehr auf Anwendungsebene. Im Gegensatz zu einfachen Firewalls fungiert der Proxy als Vermittler zwischen zwei Endsystemen. Der Client muss eine Anfrage an die Firewall senden, wo sie dann anhand einer Reihe von Sicherheitsregeln bewertet und dann erlaubt oder gesperrt wird. Insbesondere überwachen Proxy-Firewalls den Datenverkehr für Layer-7-Protokolle wie HTTP und FTP und verwenden sowohl die Stateful- als auch die Deep Packet Inspection, um bösartigen Datenverkehr zu erkennen.
 
**NAT-Firewalls**
Diese Firewalls ermöglichen es mehreren Geräten mit unabhängigen Netzwerkadressen, sich über eine einzige IP-Adresse mit dem Internet zu verbinden, wobei einzelne IP-Adressen verborgen bleiben. Infolgedessen können Angreifer, die ein Netzwerk nach IP-Adressen durchsuchen, keine spezifischen Details erfassen und bieten so mehr Sicherheit vor Angriffen.
Stateful Multilayer Inspection (SMLI)
SMLI Firewalls filtern Pakete auf Netzwerk-, Transport- und Anwendungsebene und vergleichen sie mit bekannten vertrauenswürdigen Paketen. Wie NGFW-Firewalls untersucht auch SMLI das gesamte Paket und lässt es nur passieren, wenn sie jede Schicht einzeln passieren. Diese Firewalls untersuchen Pakete, um den Zustand der Kommunikation (also den Namen) zu bestimmen, um sicherzustellen, dass die gesamte initiierte Kommunikation nur mit vertrauenswürdigen Quellen stattfindet.
 
**Vorteile an der Verwendung einer Firewall**
Ein Firmennetzwerk oder ein Heimcomputer hat eine Reihe von Vorteilen bei der Verwendung einer Firewall.
Sie sind kostengünstiger als die Sicherung jedes einzelnen Computers im Firmennetzwerk, da es oft nur ein oder wenige Firewall-Systeme gibt, auf die man sich konzentrieren kann.
Es gibt einige Firewalls, die in der Lage sind, Viren, Trojaner, Würmer und Spyware usw. zu erkennen.
 
**Nachteile der Verwendung einer Firewall**
Eine Firewall hilft, das Netzwerk vor Eindringlingen zu schützen, aber wenn eine Firewall nicht richtig verwendet wird, würde sie Ihnen einen falschen Eindruck vermitteln, dass das Netzwerk sicher ist. Der größte Nachteil einer Firewall ist, dass sie das Netzwerk nicht vor Angriffen von innen schützen kann.


### 6. Wichtige Lernschritte sind dokumentiert


## 3. Kriterium
- [x] [1. Bestehende vm aus Vagrant-Cloud einrichten](#1-bestehende-vm-aus-vagrant-cloud-einrichten)
- [x] [2. Kennt die Vagrant-Befehle](#2-kennt-die-vagrant-befehle)
- [x] [3. Eingerichtete Umgebung ist dokumentiert](#3-eingerichtete-umgebung-ist-dokumentiert)
- [x] [4. Funktionsweise getestet inkl. Dokumentation der Testfälle](#4-funktionsweise-getestet-inkl-dokumentation-der-testfälle)
- [x] [5. andere, vorgefertigte vm auf eigenem Notebook aufgesetzt](#5-andere-vorgefertigte-vm-auf-eigenem-notebook-aufgesetzt)
- [x] [6. Projekt mit Git und Mark Down dokumentiert](#6-projekt-mit-git-und-mark-down-dokumentiert)

### 1. Bestehende vm aus Vagrant-Cloud einrichten

### 2. Kennt die Vagrant-Befehle

Befehl            | Funktion
----------------- | -------------
`vagrant init`    | Erstellt eine VM
`vagrant up`	  | Startet vagrant Umgebung
`vagrant resume`  | Setzt eine suspendierte Maschine fort.
`vagrant reload`  | Startet die VM neu, liest das Config File neu ein
`vagrant ssh`     | Verbindet sich per SSH zur VM
`vagrant halt`    | stoppt die VM
`vagrant suspend` | suspendiert eine VM
`vagrant destroy` | Zerstört / löscht die VM
`vagrant provision` | Änderungen des Vagrantfiles werden übernommen
`vagrant -v`      | Zeigt die vagrant Version an
`vagrant status`  | Gibt den Stataus einer VM aus.

Weitere nützliche Commands im Zusammenhang mit der Arbeit

Befehl            | Funktion
----------------- | -------------
`eval 'ssh-agent'`    | Hintergrundprogramm, das Passwörter für private SSH-Schlüssel behandelt, aufrufen
`ssh-add`	  | Fordert den Benutzer zur Eingabe eines Passworts für den privaten Schlüssel auf und fügt es der Liste hinzu, die vom SSH-Agenten verwaltet wird.
`code`  | Visual Studio Code öffnen.
`git add`  | Änderungen im Verzeichnis wurden gespeichert.
`git commit`     | Änderunge wurden akzeptiert.
`git push`    | Änderunge wurden an Git gesendet und veröffentlicht.

### 3. Eingerichtete Umgebung ist dokumentiert
**Netzwerkplan**
Logischer Netzwerkplan:

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild22.png "Netzwerkplan")

Pysischer Netzwerkplan:
Da wir hier mit einer Virtualisierung arbeiten, würde ein pysischer Netzwerkplan sehr mager aussehen. Die Firewall, der Proxy sowie der Web-Server sind keine pysische Geräte sondern befinden sich virtuell auf dem Laptop. 

Umgebungsvariabeln:
Zuerst müssen entweder im Explorer oder in der Git-Bash ins richtige Verzeichnis gewechselt werden.
In meinem Falle befindet sich die VM, im Verzeichniss: C:\Daten\vm

![](https://github.com/philiptbz/M300-Services/blob/master/Images/bild23.png "cd")

Danach kann die VM mit dem Befehl vagrant up gestartet werden.

**Sicherheitsaspekte**

-	Lediglich der Port 80 des Web-Frontends und der Port 8080 der API wurden nach Aussen freigegeben.
-	Durch den Reverse Proxy sind die Devices im LAN von aussen nicht einsehbar.
-	Mit den strengen Firewall Regeln können wir das eindringen über offene Ports grösstenteils vermeiden.
-	Nur bestimmte Nutzer verfügen über einen Zugriff auf die wichtigen Verzeichnisse, was die Integrität schützt.
